<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Translation Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>Welcome to SilverConnect</h1>
        <p>Your Health, Your Way, Your Life</p>
        <p>Healthcare Simplified</p>
        
        <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
            <ul class="navbar-nav">
                <li class="nav-item" id="navbarAuthArea">
                    <!-- Language switcher will be inserted here -->
                </li>
            </ul>
        </nav>
        
        <div class="row">
            <div class="col-md-6">
                <h3>Track Your Medication</h3>
                <p>Manage your prescriptions, view dosage info, and get reminders daily.</p>
                <button class="btn btn-primary">Add Medication</button>
            </div>
            <div class="col-md-6">
                <h3>Your Appointments</h3>
                <p>Schedule and manage upcoming visits with doctors or specialists.</p>
                <button class="btn btn-success">Book Appointment</button>
            </div>
        </div>
        
        <div class="mt-4">
            <button onclick="testTranslation()" class="btn btn-warning">Test Manual Translation</button>
            <button onclick="checkTranslator()" class="btn btn-info">Check Translator</button>
        </div>
        
        <div id="debug-info" class="mt-3"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/simple-translator.js"></script>
    <script src="js/simple-language-switcher.js"></script>
    
    <script>
        function testTranslation() {
            console.log('Testing translation...');
            if (window.translator) {
                console.log('Translator found, calling translatePage...');
                window.translator.translatePage('zh');
            } else {
                console.error('Translator not found!');
                document.getElementById('debug-info').innerHTML = '<div class="alert alert-danger">Translator not found!</div>';
            }
        }
        
        function checkTranslator() {
            const debugInfo = document.getElementById('debug-info');
            let info = '<div class="alert alert-info">';
            info += `<h5>Debug Information:</h5>`;
            info += `<p><strong>window.translator exists:</strong> ${!!window.translator}</p>`;
            info += `<p><strong>window.languageSwitcher exists:</strong> ${!!window.languageSwitcher}</p>`;
            info += `<p><strong>SimpleTranslator class exists:</strong> ${typeof SimpleTranslator !== 'undefined'}</p>`;
            info += `<p><strong>SimpleLanguageSwitcher class exists:</strong> ${typeof SimpleLanguageSwitcher !== 'undefined'}</p>`;
            
            if (window.translator) {
                info += `<p><strong>Current language:</strong> ${window.translator.currentLanguage}</p>`;
                info += `<p><strong>Translation dictionary size:</strong> ${Object.keys(window.translator.translations.zh || {}).length}</p>`;
            }
            
            info += '</div>';
            debugInfo.innerHTML = info;
        }
        
        // Test on page load
        window.addEventListener('load', () => {
            setTimeout(() => {
                console.log('Page loaded, checking translator...');
                checkTranslator();
            }, 1000);
        });
    </script>
</body>
</html>
